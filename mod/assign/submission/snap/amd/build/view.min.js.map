{"version":3,"sources":["../src/view.js"],"names":["start","xmlproject","userid","attempt","editable","Init","init","pluginButton","document","getElementById","pluginPlay","newOnClick","setAttribute","toogleFullScreen","isFullScreen","enterFS","exitFS","fullscreenElement","msFullscreenElement","mozFullScreen","webkitIsFullScreen","cont","toggler","iframe","navBar","requestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitRequestFullScreen","style","width","height","classList","remove","add","exitFullScreen","webkitExitFullscreen","msExitFullscreen","mozCancelFullScreen"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * This module handles the events of the frame container of the Snap! editor.\n *\n * @module     assignsubmission_snap/snap\n * @package   assignsubmission_snap\n * @copyright 2020 Sara Arjona <sara@moodle.com> and Joan Guill√©n <jguille2@xtec.cat>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport * as Init from './init';\n\nexport const start = (xmlproject, userid, attempt, editable) => {\n    Init.init(xmlproject, userid, attempt, editable);\n    var pluginButton = document.getElementById('snapButton_snap-' + userid + '-' + attempt),\n        pluginPlay = document.getElementById('play_snap-' + userid + '-' + attempt),\n        newOnClick = \"require(['assignsubmission_snap/view'], function(View) {View.toogleFullScreen('\" +\n            userid + \"', '\" +\n            attempt + \"');}); return false;\";\n    pluginButton.setAttribute('onclick', newOnClick);\n    pluginPlay.setAttribute('onclick', newOnClick);\n    toogleFullScreen(userid, attempt);\n};\nexport const toogleFullScreen = (userid, attempt) => {\n    if (!isFullScreen()) {\n        enterFS(userid, attempt);\n    } else {\n        exitFS(userid, attempt);\n    }\n};\nconst isFullScreen = () => {\n    return (document.fullscreenElement && document.fullscreenElement !== null) ||\n        (document.msFullscreenElement && document.msFullscreenElement !== null) ||\n        (document.mozFullScreen || document.webkitIsFullScreen);\n};\n\nconst enterFS = (userid, attempt) => {\n    var cont = document.getElementById('snapContainer_snap-' + userid + '-' + attempt),\n        toggler = document.getElementById('togglingFSicon_snap-' + userid + '-' + attempt),\n        iframe = document.getElementById('snap_snap-' + userid + '-' + attempt),\n        navBar = document.getElementById('snapNavBar_snap-' + userid + '-' + attempt);\n    if (cont.requestFullscreen) {\n        cont.requestFullscreen();\n    } else if (cont.mozRequestFullScreen) {\n        cont.mozRequestFullScreen();\n    } else if (cont.msRequestFullscreen) {\n        cont.msRequestFullscreen();\n    } else if (cont.webkitRequestFullScreen) {\n        cont.webkitRequestFullScreen();\n    }\n    iframe.style.width = '100%';\n    iframe.style.height = 'calc(100% - 50px)';\n    navBar.style.width = '100%';\n    toggler.classList.remove('fa-expand');\n    toggler.classList.add('fa-compress');\n};\n\nconst exitFS = (userid, attempt) => {\n    var toggler = document.getElementById('togglingFSicon_snap-' + userid + '-' + attempt),\n        iframe = document.getElementById('snap_snap-' + userid + '-' + attempt),\n        navBar = document.getElementById('snapNavBar_snap-' + userid + '-' + attempt);\n    iframe.style.width = '910px';\n    iframe.style.height = '500px';\n    navBar.style.width = '910px';\n    toggler.classList.remove('fa-compress');\n    toggler.classList.add('fa-expand');\n\n    if (document.exitFullScreen) {\n        document.exitFullScreen();\n    } else if (document.webkitExitFullscreen) {\n        document.webkitExitFullscreen();\n    } else if (document.msExitFullscreen) {\n        document.msExitFullscreen();\n    } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen();\n    }\n};\n"],"file":"view.min.js"}